"use strict";$(function(){$.ajax({type:"get",url:"../mock/list.json",dataType:"json",success:function(t){t.res_body.list.forEach(function(t){$(".template").clone().removeClass("template").addClass("buy").css({display:"inline-block"}).appendTo(".box").children(".img").attr("src",t.img).next(".desc").text(t.desc).next().text(t.price).next().text(t.id)})}})}),$(function(){$(".box").on("click",".add",function(t){var e=$(this).parent(),i={id:e.children(".id").text(),price:e.children(".price").text(),desc:e.children(".desc").text(),img:e.children(".img").attr("src"),amount:1};$.cookie.json=!0;var c=$.cookie("products")||[],n=function(t,e){for(var i=0,c=e.length;i<c;i++)if(e[i].id==t)return i;return-1}(i.id,c);-1!==n?c[n].amount++:c.push(i),$.cookie("products",c,{expires:7,path:"/"});var o=$('<img src="'+i.img+'">'),r=$(".cart").offset();o.fly({start:{left:t.pageX,top:t.pageY},end:{left:r.left,top:r.top,width:0,height:0}})})});